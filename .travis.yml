language: java
os: linux
jdk:
  - openjdk8
  - openjdk11
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - "$HOME/.gradle/caches/"
    - "$HOME/.gradle/wrapper/"
install: ./gradlew assemble
script:
  - ./gradlew check
env:
  global:
    - secure: Dc5p+RsmErDZIUeaS3Gz6xcj8XKRdWDLlGY9ss4fl2dotkQegVRPhbn08st6eOLyqFTzLPV6HMpOzHiXM2LN6V3VlxPDRclzlNs0oH8kKMdL8RZAyNM0A9o445+OFUnlo9017aq+XApj1OJtuUH5F0uynDaPvf7kltxch3JJmAeygJ9ANTOH97z/QZ8DsBTbWMd40mpBUio97IatwdzVtb+GXKxhIV42+Jg9OwZBFlY9EqEI2BKCQ60SL1Yuk3jU60C16rrwAeJe33ESWOL7xmd7nIL1B5WD09hAK0BnhyFUJdHxF38tRM37wHi4TWGBB8GQyScFNRlmVhlBEhQfczoGtn3BKIOw9e1WquvLXklBQguA47Hy9UaC9fW7rtUWOTVooghGTsBi459HxrdQBNY8FhXW+1sShU56JrZzmTv695SQK9Zo/QcUWTOc8vSCk18ciqtS7IdnSJGAj6KeW/xt8uA0HKcXIze2V/1pp1Tywqr5JKLJSJVZPVLskvzCBbmHj3Vbw4dZ5tnRLoS2uJbSvpWxvauuV/P24Yk8Vn6YR+PZPR7arGkdY21kM0eCyAkKeUjcE2PT4d9NCAYT2Q8tj3j+nu+HyoyWrHXHQY0f/xLQFTPnNrjIKo22pjrHsKJyLJwOH/2jWh29Rr2bPxDOo4qbK1kk7zdOxigfCic=
    - secure: cy+9DCh6HAqp8gp3PtazFBJlvRzWa78P4fIBJi09hMTRVrGirm/Lk9GhuR0fm9UDqbQ19f2GBvcEkMLqIW6MC5jPk4GHfkQrV6bOcny5jROz4txrjDniuzyaFcC5lmxsFqHHO2uwnqCCpi4GIHw64j/NKIoXzwgCwNkn6JZA4UGhhy6uVxjubd/uRuwVUWPWCuPd5k227qt3s483F8jiSsPOicGioT+7p02q12GLnrkAuQGLT/59fuyZ1SM7oiemPJ4ampgLj4LmXcpqmyZIyCw+LA0Fh7Ck5XRiu0Zu4FqvsEfsoO1HN5LNjfEEcEBUmhpMy/dDhQ6HCWV8l0+I9wFrGc0MKgHj8nKT0/PkjufgTLy5mSRw9C2VpS36TiG+t58qET/E/mXUcD8njmQ/+VyX6kEl0Ni0FPAqL8He1zRetBpIaP/YYTj5HapojJy0GCIf2QTqgdFFK6N7gqF4U0CISSki+Wuwadk4ErsQG5890TipNJWgKGXxuKRWOwrb5VZlStMaHallsqUkwUtjzu2f2h6WE/bPWRRcabfcr/Ou9UBHfWS599VyJXBqCdHhc2tG1NhoC/Ib74/9Ola14wIs1/PeQ21CF4A0jYwovrfHjlbs+bPYCHD/qjzKmbisFsA4nkV6rhM4XsEM/IVFJ6MHu3MWg6x7q3rtPb6TbU0=
deploy:
  provider: script
  script: bash scripts/deploy.sh
  on:
    tags: true
